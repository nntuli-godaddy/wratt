"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = placeholderReducers;
/**
 * Sometimes we want to use redux to set app state with utilizing actions
 * or reducers, for consistency between browser and server rendering.
 * As such, if keys in preloadedState do not have corresponding reducers,
 * this will add placeholders.
 * @see https://redux.js.org/recipes/structuring-reducers/using-combinereducers#defining-state-shape
 * @type {import('./index').placeholderReducers}
 */
function placeholderReducers() {
  var reducers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var preloadedState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var keys = new Set(Object.keys(preloadedState));
  keys.add('config'); // from @gasket/plugin-config

  return Array.from(keys).reduce(function (acc, cur) {
    if (!(cur in reducers)) acc[cur] = function (f) {
      return f || preloadedState[cur] || null;
    };
    return acc;
  }, {});
}